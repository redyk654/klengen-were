!function(){"use strict";const e={langueParDefaut:"fr",cleStockage:"klengen_langue",languesDisponibles:["fr","en","ar"],languesRTL:["ar"]},t={init:function(){const e=this.obtenirLangueSauvegardee();this.changerLangue(e,!1),this.attacherEcouteurs()},obtenirLangueSauvegardee:function(){try{const t=localStorage.getItem(e.cleStockage);if(t&&e.languesDisponibles.includes(t))return t}catch(e){console.warn("localStorage non disponible:",e)}return e.langueParDefaut},sauvegarderLangue:function(t){try{localStorage.setItem(e.cleStockage,t)}catch(e){console.warn("Impossible de sauvegarder la langue:",e)}},changerLangue:function(t,n=!0){if(!e.languesDisponibles.includes(t))return void console.error("Langue non supportée:",t);if("undefined"==typeof TRADUCTIONS||!TRADUCTIONS[t])return void console.error("Traductions non trouvées pour:",t);const a=TRADUCTIONS[t];document.querySelectorAll("[data-i18n]").forEach(function(e){const t=e.getAttribute("data-i18n");a[t]&&("INPUT"===e.tagName||"TEXTAREA"===e.tagName?e.hasAttribute("placeholder")?e.setAttribute("placeholder",a[t]):e.value=a[t]:e.textContent=a[t])}),document.querySelectorAll("[data-i18n-aria]").forEach(function(e){const t=e.getAttribute("data-i18n-aria");a[t]&&e.setAttribute("aria-label",a[t])}),document.documentElement.setAttribute("lang",t),e.languesRTL.includes(t)?document.documentElement.setAttribute("dir","rtl"):document.documentElement.setAttribute("dir","ltr"),this.mettreAJourBoutonsActifs(t),n&&this.sauvegarderLangue(t),document.dispatchEvent(new CustomEvent("langueChangee",{detail:{langue:t}}))},mettreAJourBoutonsActifs:function(e){document.querySelectorAll(".langue__btn").forEach(function(t){t.getAttribute("data-lang")===e?(t.classList.add("langue__btn--actif"),t.setAttribute("aria-pressed","true")):(t.classList.remove("langue__btn--actif"),t.setAttribute("aria-pressed","false"))})},attacherEcouteurs:function(){const e=this;document.querySelectorAll(".langue__btn").forEach(function(t){t.addEventListener("click",function(t){t.preventDefault();const n=this.getAttribute("data-lang");n&&e.changerLangue(n)}),t.addEventListener("keydown",function(e){"Enter"!==e.key&&" "!==e.key||(e.preventDefault(),this.click())})})},obtenirLangueActive:function(){return document.documentElement.getAttribute("lang")||e.langueParDefaut}};"loading"===document.readyState?document.addEventListener("DOMContentLoaded",function(){t.init()}):t.init(),window.GestionnaireLangue=t}();